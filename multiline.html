<!DOCTYPE html>
<html>
<head>

   <script>
    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function () {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date();
        a = s.createElement(o),
            m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-76519362-1', 'auto');
    ga('send', 'pageview');

    //HotJar Tracking

    (function (h, o, t, j, a, r) {
        h.hj = h.hj || function () {
            (h.hj.q = h.hj.q || []).push(arguments)
        };
        h._hjSettings = {
            hjid: 200722,
            hjsv: 5
        };
        a = o.getElementsByTagName('head')[0];
        r = o.createElement('script');
        r.async = 1;
        r.src = t + h._hjSettings.hjid + j + h._hjSettings.hjsv;
        a.appendChild(r);
    })(window, document, '//static.hotjar.com/c/hotjar-', '.js?sv=');
    </script>
    <title>Minecraft Tools | Multiline Holograms</title>
	<link href="style.css" rel="stylesheet">
</head>
<body>
    <div id="outer">
    <div id="cont">
        <a href="index.html" id="back-home">&#8619; Return
        to Home</a>
        <br/><h2>Multilie Holograms<p>by CommandFox</p></h1>
        <p class="info"><br/>Enter the text into the following box.<br/>Color and formatting codes are allowed (using an & sign), e.g. <span style="color:#ECA517">&6Gold</span>.<br/> Click the plus button to add a
        line.<br/>Please also choose if you will use this on a multiplayer server or in single player.</p><input class="text" id="text" type="text" placeholder="Text, with formatting codes."><span id=
        "plus">+</span>
		<br/><select id="multiplayer">
			<option value="multiplayer">
				Multiplayer
			</option>
			<option value="singleplayer">
				Single Player
			</option>
		</select><br/>
		<button class="sub" id="sub">Generate Command</button> <span id=
        "yrcmd" style="display:none">Enter into a command block and
        execute:</span>
        <textarea id="res" readonly style="display:none;">
   </textarea><br>
        <br>
        <style>
        #plus {
			background: #666;
			color: #fff;
			border: none;
			display: inline-block;
			cursor: pointer;
			padding: 6px 10px;
			margin: 2px auto;
			border-radius: 2px;
        }
        </style>
        <script>
        var currenttext = 0;
        var plus = document.getElementById("plus");
        plus.onclick = function(){
        currenttext += 1;
        plus.insertAdjacentHTML("beforeBegin",'<input type="text" id="text'+currenttext+'" class="text" placeholder="Text, line '+(currenttext+1)+', with formatting codes."/>');
        };
        document.getElementById("sub").onclick = function(){
        var texts = [];
        var text_elms = document.getElementsByClassName("text");
        for(i = 0; i < text_elms.length; i++){
			if(text_elms[i].value != ""){
				texts.push(text_elms[i].value);
			}
        }
		texts.reverse();
        var res = document.getElementById("res");
        res.style.display = "block";
        document.getElementById("yrcmd").style.display = "block";
        var intext = ('innerText' in res)? 'innerText' : 'textContent';
        var multiplayer = document.getElementById("multiplayer").value == "multiplayer" ? "minecraft:": "";
        var appliance = '/'+multiplayer+'give @p minecraft:sign 1 0 {BlockEntityTag:{Text1:"{\\"text\\":\\"\\",\\"clickEvent\\":{\\"action\\":\\"run_command\\",\\"value\\":\\"/execute @p ~ ~ ~ /summon armor_stand ~ ~ ~ {CustomName:\\\\\\"cf_start_armor_stand_mutiline\\\\\\",Invisible:1,NoGravity:1}\\"}}",Text2:"{\\"text\\":\\"Click\\",\\"color\\":\\"blue\\",\\"clickEvent\\":{\\"action\\":\\"run_command\\",\\"value\\":\\"';
        var end = '';
        var pos = -0.75;

		console.log(multiplayer);

        for(i = 0; i < texts.length; i++){
			console.log(texts[i], i)
			if (i == 0) {
				appliance += '/summon falling_block ~ ~1 ~1 {TileID:137,Data:1,Time:1,TileEntityData:{auto:1b,Command:\\\\\\"execute @p ~ ~ ~ execute @e[name=cf_start_armor_stand_mutiline,type=armor_stand,c=1] ~ ~ ~ summon armor_stand ~ ~'+pos+' ~ {Invisible:1,NoGravity:1,CustomName:\\\\\\\\\\\\\\"'+texts[i].replace(/\&/g,"\\\\u00a7")+'\\\\\\\\\\\\\\",CustomNameVisible:1}\\\\\\"},Passengers:[';
				end += "}]";
			} else if (i == texts.length - 1) {
				appliance += '{id:\\\\\\"falling_block\\\\\\",TileID:137,Data:1,Time:1,TileEntityData:{auto:1b,Command:\\\\\\"execute @p ~ ~ ~ execute @e[name=cf_start_armor_stand_mutiline,type=armor_stand,c=1] ~ ~ ~ summon armor_stand ~ ~'+pos+' ~ {Invisible:1,NoGravity:1,CustomName:\\\\\\\\\\\\\\"'+texts[i].replace(/\&/g,"\\\\u00a7")+'\\\\\\\\\\\\\\",CustomNameVisible:1}\\\\\\"},Passengers:[{id:\\\\\\"falling_block\\\\\\",TileID:137,Data:1,Time:1,TileEntityData:{auto:1b,Command:\\\\\\"execute @p ~ ~ ~ '+multiplayer+'kill @e[name=cf_start_armor_stand_mutiline,type=armor_stand,c=1]\\\\\\"},Passengers:[{id:\\\\\\"falling_block\\\\\\",TileID:137,Data:1,Time:1,TileEntityData:{auto:1b,Command:\\\\\\"fill ~ ~ ~-1 ~ ~-'+(texts.length + 1)+' ~ air\\\\\\"}}]}]' + end + "}";
			} else {
				appliance += '{id:\\\\\\"falling_block\\\\\\",TileID:137,Data:1,Time:1,TileEntityData:{auto:1b,Command:\\\\\\"execute @p ~ ~ ~ execute @e[name=cf_start_armor_stand_mutiline,type=armor_stand,c=1] ~ ~ ~ summon armor_stand ~ ~'+pos+' ~ {Invisible:1,NoGravity:1,CustomName:\\\\\\\\\\\\\\"'+texts[i].replace(/\&/g,"\\\\u00a7")+'\\\\\\\\\\\\\\",CustomNameVisible:1}\\\\\\"},Passengers:[';
				end += "}]";
			}
			pos += 0.25;

        }

        appliance += '\\"}}",Text3:"{\\"text\\":\\"Here\\",\\"clickEvent\\":{\\"action\\":\\"run_command\\",\\"value\\":\\"setblock ~ ~ ~ air\\"},\\"color\\":\\"blue\\"}"},display:{Name:"CommandFox Multiline Hologram"}}';

        res[intext] = appliance;
        }
        </script>
    </div>
</body>
</html>
